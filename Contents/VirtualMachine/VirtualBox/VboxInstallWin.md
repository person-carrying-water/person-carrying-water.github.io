---
layout: default
title: ":wrench: 仮想化、Oracle VM VirtualBox"
description: ":wrench: Oracle VM VirtualBox(Windows版)のインストール・作成"
date: "2020/01/06"
lastmod: "2020/05/17"
---

## 0. Oracle VM VirtualBoxのダウンロード

[Oracle VM VirtualBox](https://www.virtualbox.org/wiki/Downloads)で`Windows hosts`をクリックしダウンロードする。  

![0-1](Windows/VboxInstall1s.png)

<br />

## 1. VirtualBoxのインストール

1-1. ダウンロードした`VirtualBox-6.1.2-135663-Win.exe`(Version6.1.2の場合)をダブルクリックしインストーラーを起動します。  
1-2. 「Next」ボタンをクリックし次へ進みます。  

![1-2](Windows/VboxInstall2.png)  

1-3. そのまま「Next」ボタンをクリックし次へ進みます。  

![1-3](Windows/VboxInstall3.png)  

1-4. スタートメニューやディスクトップにショートカットを作成するかの設定です。ショートカットを作らない場合はチェックを外してください。「Next」ボタンをクリックし次へ進みます。  

![1-4](Windows/VboxInstall4.png)  

1-5. インストール中に一時ネットワークを切断したりしますのでよろしいですか？と言う確認メッセージです。良ければ「Next」ボタンをクリックし次へ進みます。  

![1-5](Windows/VboxInstall5.png)  

1-6. インストールを開始しますか？の確認メッセージです。良ければ「Next」ボタンをクリックし次へ進みます。  

![1-6](Windows/VboxInstall6.png)  

インストール中ですのでしばらく待ちます。  

![1-7](Windows/VboxInstall7.png)  

1-8. インストールが完了しましたので「Finish」ボタンを押し完了します。  

![1-8](Windows/VboxInstall8.png)  

<br />

## 2. VirtualBoxの仮想環境の作成

2-1. VirtualBoxを起動すると以下の様な画面になります。  
仮想マシンの新規追加を行う設定を行ってみます。  
「新規(N)」アイコンをクリックしダイアログを開きます。  

![2-1](Windows/VboxSetting1s.png)  

2-2. 仮想マシンの名前(何でも良い)と仮想マシンにインストールするOSの種類などを選びます。  
今回の例はLinuxのCentOS(64-bit版)をインストールする事にしますので「名前：」テキストボックスに分かりやすく`CentOS8.1905`などとします。  
マシンフォルダーは、仮想マシンを作成する場所でどこでも良いですが今回はデフォルトのフォルダーにインストールしますので変更はしません。  
「タイプ(T)」コンボボックスは`Linux`、「バージョン(V)」は`CentOS`専用の項目はありませんがCentOSはRedHatの互換なので`Red Hat (64-bit)`を選びます。  
確認しましたら「次へ(N)」ボタンをクリックし次へ進みます。  

![2-2](Windows/VboxSetting2.png)  

2-3. メモリーのサイズを指定します。  
パソコンのメインメモリーの容量により決定しますが普段使うWindowsのメモリー使用量とは別に仮想マシンに割り当てるメモリーの容量を指定します。  
このパソコンでは8GBなので兼ね合いをみて3GB(3072MB)程度としておきます。  
良ければ「次へ(N)」ボタンをクリックし次へ進みます。  

![2-3](Windows/VboxSetting3.png)  

2-4. 仮想ハードディスクを作成するかの選択をします。  
「仮想ハードディスクを作成する(C)」ラジオボタンを選択し、「作成」ボタンをクリックします。  
仮想マシンそのものを作成(OSの容量とは別)するのにHDDなどに8GB必要です。  

![2-4](Windows/VboxSetting4.png)  

2-5. 仮想ハードディスクのファイルタイプはデフォルトの「VDI(VirtualBox Disk Image)」ラジオボタンを選択します。  
良ければ「次へ(N)」ボタンをクリックし次へ進みます。  

![2-5](Windows/VboxSetting5.png)  

2-6. 仮想マシンへOSをインストールするためのHDDなどの容量を可変にするか固定にするかの選択をします。ここでは「固定サイズ(F)」ラジオボタンを選択し、「次へ(N)」ボタンをクリックし次へ進みます。  
可変サイズはその名の通り使用した分のみのHDD容量しか使用しません。固定サイズは高速ではありますが次項で設定する容量を仮想マシンの作成をした段階で使用しますので注意して下さい。  

![2-6](Windows/VboxSetting6.png)  

2-7. 仮想マシンへOSをインストールするHDDなどの容量を決めます。  
自身のパソコンのHDDおよびSSDの容量により決定してください。  
このパソコンでは240GBの容量なので兼ね合いを見て50GB程度としておきます。  
良ければ「作成」ボタンをクリックし次へ進みます。  

![2-7](Windows/VboxSetting7.png)  

作成中なのでしばらくお待ちください。  

![2-7-2](Windows/VboxSetting8s.png)  

作成されるとメイン画面には以下の様に表示され作成されます。  

![2-7-3](Windows/VboxSetting9s.png)  

<br />

## 3. 仮想マシンにOSをインストールする

※事前にCentOSのイメージファイル(.iso)をサイトでダウンロードしておいて下さい。  

3-1. 初回のみメイン画面の「起動(T)」後に以下の様なダイアログで`.iso`ファイルを指定して読み込む方法が１つ。  

![3-1](Windows/VboxSetting10s.png)  

または、起動する前に以下の設定をしてイメージファイルを読み込ませます。  
メイン画面のストレージ項目の`IDEプライマリスレーブ`が空になっているのでクリックし、プルダウンメニューの「Choose a disk file...」を選択します。  
※この`IDEプライマリスレーブ`が光学ドライブとなっているので仮想マシン内のDVDドライブに相当するものだと思います。  

![3-1-2](Windows/VboxSetting11.png)  

CentOSをダウンロードしたイメージファイル(.iso)を選び「開く(O)」ボタンをクリックします。  
IDEプライマリストレージにセットされます。  

![3-1-2](Windows/VboxSetting12.png)  

その後、メイン画面の「起動(T)」ボタンを押しCentOSのインストールを行ってください。  

OSのインストール後はIDEプライマリストレージを右クリックし「仮想ドライブからディスクを除去」を選び`空`に戻してください。  
このディスクイメージをセットしたままだと再起動後に再びOSのインストールが始まります。  
起動してしまった場合は、強制ではありますが右上の閉じるボタンを押して終了して下さい。  

* * *
