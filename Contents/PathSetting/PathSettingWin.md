---
layout: default
title: ":octocat: Microsoft Windows"
description: ":computer: WindowsでPathを通す・環境変数設定"
date: "2020/05/17"
lastmod: "2020/05/17"
---

## 0. はじめに

カレントディレクトリに、該当のコマンドを実行する実行ファイルが無い場合にOSが該当コマンドに対する  
実行ファイルを探し実行してもらうために設定するものである。  
ようするに、コマンドプロンプトでどのディレクトリーでも該当のコマンドを実行できる様にする事が目的。  
ここでは、JavaとApache Mavenを例に挙げる。設定をしていないと以下の様なメッセージが出る。  

    $ mvn --version
    エラー：'mvn' は、内部コマンドまたは外部コマンド、
    操作可能なプログラムまたはバッチ ファイルとして認識されていません。

## 1. 事前準備

Adopt Open JDK 11.0.1を展開またはインストールし`javac.exe`の絶対Pathが以下にあるとします。  
`C:\pleiades\java\11\bin\javac.exe`  

Apache Maven 3.6.0を展開またはインストールし、`mvn.bat`の絶対Pathが以下にあるとします。  
`C:\Program Files\apache-maven-3.6.0\bin\mvn.bat`

※この様なPathやVersionですが、それぞれご自身の環境に合わせて読み取って下さい。  

<br />

## 2. 環境変数設定

ダイレクトに絶対Pathを「システム環境変数(S)」のPathへ追加しても良いがここではPathの変数も使用して使う方法を  
書きます。  

2-1. コントロールパネルの「システム」の「システムの詳細設定」を開き「環境変数(N)」ボタンをクリックし開く。  

2-2. まずは、Apache Mavenの方を設定します。「システム環境変数(S)」の方の「新規(W)」ボタンをクリックします。  
2-3. 「変数名(N)」テキストボックスに`M2_HOME`と入力。  
2-4. 「ディレクトリの参照(D)」ボタンを押し`apache-maven-3.6.0`のディレクトリまでを参照。  
または、「変数値(V)」テキストボックスに`C:\Program Files\apache-maven-3.6.0`と入力します。  

2-5. 「OK」ボタンをクリックし適用すると一覧に`M2_HOME`が作成されます。  
同様にJava用の、`JAVA_HOME`の変数を作りPathは`C:\pleiades\java\11`とする。  

<br />

## 3. Pathを通す

3-1. 「システム環境変数(S)」の一覧から`Path`をクリック選択し「編集(I)」ボタンをクリックする。  
3-2. 「新規(N)」ボタンを押すとリスト一覧の一番下の行にカーソル入力ができるようになります。  
Apache Maven用に`%M2_HOME%\bin` と入力します。  
3-4. 「OK」ボタンをクリックし適用します。  
同様に`Path`にJava用の`%JAVA_HOME%\bin`を追加します。  

※セミコロンで区切ることにより複数のディレクトリーを指定する事もできる。  
※環境変数を使わないやり方は、PathにC:\\Program Files\\apache-maven-3.6.0\\binと追加すれば良い。  
※また、Pathは上からの順番も関係あるので実行できない場合は「上へ」ボタンを押し順序を変えてみると良い(MavenのPathを上にあげ優先して実行させる)。  
※また、これらの設定は再度コマンドプロンプトを開き直す時に適用されるので適用したらコマンドプロンプトを開き直し実行する事。  

<br />

## 3. 確認する

以下を実行しバージョンが出力される事を確認してください。  

    $ mvn --version
    または、
    $ javac --version

* * *
